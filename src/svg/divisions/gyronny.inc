<?php /* Copyright 2010 Karl R. Wilcox 

   Licensed under the Apache License, Version 2.0 (the "License");
   you may not use this file except in compliance with the License.
   You may obtain a copy of the License at

       http://www.apache.org/licenses/LICENSE-2.0

   Unless required by applicable law or agreed to in writing, software
   distributed under the License is distributed on an "AS IS" BASIS,
   WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
   See the License for the specific language governing permissions and
   limitations under the License. */


$g_data = array (
  'gyronny-of-8' => array ( 'NC' => 'M 0,500 0,0 500,500 Z m 500,0 0,900 -500,0 0,-400 z m 500,0 0,500 -500,-500 z m -500,0 0,-700 500,0 0,200 z',
                                  'CH' => 'M 0,750 0,250 500,750 Z m 500,0 0,900 -500,0 0,-400 z m 500,0 0,500 -500,-500 z m -500,0 0,-700 500,0 250,-50 z'),
  'gyronny-of-6' =>array ( 'NC' =>  'M -279,950 -1060,-400 500,500 z M 500,500 1280,950 500,2300 z m 0,-900 1560,0 -1560,900 z',
                     'CH' => 'M -279,1150 -1060,-200 500,700 z M 500,700 1280,1150 500,2500 z m 0,-900 1560,0 -1560,900 z'),
  'gyronny-of-10' => array ( 'NC' => 'M 1360,778 1560,160 500,500 z M 1030,-227 504,-609 500,502 z M -27.7,-228 -554,155 502,500 z M -356,778 -155,1400 500,500 z m 856,622 650,0 -650,-900 z',
                      'CH' => 'M 1360,978 1560,360 500,700 1360,978 z M 1030,-27 504,-409 500,702 1030,-27 z M -27.7,-28 -554,355 502,700 -27.7,-28 z M -356,978 -155,1600 500,700 -356,978 z m 856,622 650,0 -650,-900 0,900 z'),
  'gyronny-of-12' => array ( 'NC' => 'M -279,50 -19.4,-400 500,500 z m 0,897 -260,-450 1039,0 z m 779,453 -520,0 520,-900 z M 1280,950 1020,1400 497,500 z m 0,-900 260,450 -1040,0 z m -780,-450 520,0 -520,900 z',
                      'CH' => 'M -279,250 -19.4,-200 500,700 -279,250 z m 0,900 -260,-453 1039,0 -779,453 z m 779,450 -520,0 520,-900 0,900 z m 780,-450 -260,450 -523,-900 783,450 z m 0,-900 260,450 -1040,0 780,-450 z m -780,-450 520,0 -520,900 0,-900 z'),
  'gyronny-of-14' => array ( 'NC' => 'M 501.07527,501.07527 1070.5445,1193.9174 711.66876,1358.1486 501.07527,501.07527 313.25591,1376.3965 -42.578473,1212.1653 501.07527,501.07527 -299.99929,901.98191 -394.61485,514.70645 501.07527,501.07527 -311.828,124.73116 -68.035683,-190.70456 501.07527,501.07527 288.47603,-369.1248 l 398.6196,-6.06645 -186.02036,876.26652 547.79633,-708.77764 253.2782,307.87098 -801.07453,400.90666 895.69013,-13.6312 -82.7869,389.97528 -812.90323,-376.34408',
                      'CH' => 'M 501.07527,701.07527 1070.5445,1393.9174 711.66876,1558.1486 501.07527,701.07527 313.25591,1576.3965 -42.578473,1412.1653 501.07527,701.07527 -299.99929,1101.9819 -394.61485,714.70645 501.07527,701.07527 -311.828,324.73116 -68.035683,9.29544 501.07527,701.07527 288.47603,-169.1248 687.09563,-175.19125 501.07527,701.07527 1048.8716,-7.70237 1302.1498,300.16861 501.07527,701.07527 1396.7654,687.44407 1313.9785,1077.4194 501.07527,701.07527' ),
  'gyronny-of-16' => array ( 'NC' => 'M-300,-300 500,500, 169,-300z M500,-300 500,500 831,-300z M1300,-300 500,500 1300,169z M1300,500 500,500 1300,831z M1300,1300 500,500 831,1300z M500,1300 500,500 169,1300z M-300,1300 500,500 -300,831z M-300,500 500,500 -300,169z',
                      'CH' => 'M-300,-100 500,700, 169,-100z M500,-100 500,700 831,-100z M1300,-100 500,700 1300,369z M1300,700 500,700 1300,1031z M1300,1500 500,700 831,1500z M500,1500 500,700 169,1500z M-300,1500 500,700 -300,1031z M-300,700 500,700 -300,369z'),
);

$allowed = array ( '6', '8', '10', '12', '14', '16' );
$num_of = getModifierValueByKeyterm($node,'ofnum', true);
if ( !in_array($num_of, $allowed) ) $num_of = '8';

$chosenPath = choose_fit($g_data[('gyronny-of-' . $num_of)]);

if (chiefPresent()) { // TODO this is a fudge, just move the paths upwards above!
 $chosenPath = translatePath($chosenPath,0,-50);
}

$division['div2'] = '<path d="' . $chosenPath . '" />';

